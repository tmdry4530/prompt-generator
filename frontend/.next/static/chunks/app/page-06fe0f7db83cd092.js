(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1393:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var a=t(9760),r=t(2709);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},1785:(e,s,t)=>{Promise.resolve().then(t.bind(t,8142))},8142:(e,s,t)=>{"use strict";t.d(s,{default:()=>Y});var a=t(5986),r=t(3338),l=t(8766),i=t(6738),n=t(2175),d=t(3540),c=t(1393);let o=l.bL;l.YJ;let m=l.WT,u=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(l.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[r,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=l.wn.displayName;let p=r.forwardRef((e,s)=>{let{className:t,children:r,position:i="popper",...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...n,children:[(0,a.jsx)(x,{}),(0,a.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(f,{})]})})});p.displayName=l.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=l.JU.displayName;let h=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(l.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:r})]})});h.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.wv.displayName;var g=t(1822),j=t(8450);let v=(0,j.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),N=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:i=!1,...n}=e,d=i?g.DX:"button";return(0,a.jsx)(d,{className:(0,c.cn)(v({variant:r,size:l,className:t})),ref:s,...n})});N.displayName="Button";let y=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});y.displayName="Textarea";let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});b.displayName="Card";let w=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",t),...r})});w.displayName="CardHeader";let S=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});S.displayName="CardTitle";let A=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",t),...r})});A.displayName="CardDescription";let _=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,c.cn)("p-6 pt-0",t),...r})});_.displayName="CardContent";let k=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,c.cn)("flex items-center p-6 pt-0",t),...r})});k.displayName="CardFooter";var T=t(9708);let R=T.bL,C=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.B8,{ref:s,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});C.displayName=T.B8.displayName;let O=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.l9,{ref:s,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});O.displayName=T.l9.displayName;let E=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(T.UC,{ref:s,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});E.displayName=T.UC.displayName;var I=t(9377),D=t(5498);let z=(0,j.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function P(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,c.cn)(z({variant:t}),s),...r})}let U=(0,j.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),L=r.forwardRef((e,s)=>{let{className:t,variant:r,...l}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,c.cn)(U({variant:r}),t),...l})});L.displayName="Alert",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h5",{ref:s,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",t),...r})}).displayName="AlertTitle";let V=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",t),...r})});V.displayName="AlertDescription";var M=t(7623),F=t(1636),J=t(5336),B=t(9048),H=t(6139),X=t(4937),q=t(5325),K=t(5476);let Q=t(1980).env.NEXT_PUBLIC_API_URL||"http://localhost:5001/api",W=K.A.create({baseURL:Q,headers:{"Content-Type":"application/json"}});function Y(){let[e,s]=(0,r.useState)("gpt-4"),[t,l]=(0,r.useState)(""),[i,n]=(0,r.useState)(null),[c,x]=(0,r.useState)(!1),[f,g]=(0,r.useState)(""),[j,v]=(0,r.useState)(!1),[T,z]=(0,r.useState)({}),[U,K]=(0,r.useState)([]),[Q,Y]=(0,r.useState)([]),[Z,$]=(0,r.useState)(null),{toast:G}=(0,I.dj)();(0,r.useEffect)(()=>{ee(),et(),er()},[]),(0,r.useEffect)(()=>{e&&es(e)},[e]);let ee=async()=>{try{let e=await W.get("/models");z(e.data.model_details||{})}catch(e){console.error("모델 정보 로드 실패:",e)}},es=async e=>{try{let s=await W.get("/examples/".concat(e));K(s.data.examples||[])}catch(e){console.error("예시 로드 실패:",e)}},et=()=>{{let e=localStorage.getItem("promptHistory");e&&Y(JSON.parse(e))}},ea=e=>{let s=[{id:Date.now().toString(),timestamp:new Date().toISOString(),model:e.model,task:e.original_task,optimizedPrompt:e.optimized_prompt},...Q.slice(0,49)];Y(s),localStorage.setItem("promptHistory",JSON.stringify(s))},er=async()=>{try{let e=await W.get("/stats");$(e.data)}catch(e){console.error("통계 로드 실패:",e)}},el=async()=>{if(!t.trim())return void g("작업 내용을 입력해주세요.");x(!0),g(""),n(null);try{let s=await W.post("/optimize",{model:e,task:t.trim()});if(s.data.success&&s.data.data)n(s.data.data),ea(s.data.data),er();else throw Error("응답 형식 오류")}catch(e){g(e.message?e.message:"알 수 없는 오류가 발생했습니다.")}finally{x(!1)}},ei=async e=>{try{await navigator.clipboard.writeText(e),v(!0),G({title:"복사 완료!",description:"프롬프트가 클립보드에 복사되었습니다."}),setTimeout(()=>v(!1),2e3)}catch(e){G({title:"복사 실패",description:"클립보드에 복사하지 못했습니다.",variant:"destructive"})}},en=e=>{l(e)},ed=e=>{l(e.task),s(e.model)};return(0,a.jsx)("div",{className:"grid gap-6",children:(0,a.jsxs)(R,{defaultValue:"generator",className:"w-full",children:[(0,a.jsxs)(C,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(O,{value:"generator",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"생성기"]}),(0,a.jsxs)(O,{value:"history",children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-2"}),"히스토리"]}),(0,a.jsxs)(O,{value:"statistics",children:[(0,a.jsx)(J.A,{className:"h-4 w-4 mr-2"}),"통계"]})]}),(0,a.jsxs)(E,{value:"generator",children:[(0,a.jsxs)(b,{children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(S,{children:"프롬프트 최적화"}),(0,a.jsx)(A,{children:"작업 내용을 입력하고 모델을 선택하면 최적화된 프롬프트를 생성합니다."})]}),(0,a.jsxs)(_,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"모델 선택"}),(0,a.jsxs)(o,{value:e,onValueChange:s,children:[(0,a.jsx)(u,{children:(0,a.jsx)(m,{placeholder:"모델을 선택하세요"})}),(0,a.jsx)(p,{children:Object.keys(T).map(e=>(0,a.jsx)(h,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"작업 내용"}),(0,a.jsx)(y,{placeholder:"원하는 작업을 자세히 설명해주세요...",value:t,onChange:e=>l(e.target.value),rows:6})]}),U.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"예시 작업"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:U.map((e,s)=>(0,a.jsx)(P,{variant:"outline",className:"cursor-pointer hover:bg-accent",onClick:()=>en(e),children:e.length>30?"".concat(e.substring(0,30),"..."):e},s))})]}),T[e]&&(0,a.jsxs)("div",{className:"rounded-lg bg-muted p-3 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,a.jsx)(B.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"모델 정보"})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(H.A,{className:"h-4 w-4 mr-2 mt-1 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"강점: "}),(0,a.jsx)("span",{children:T[e].strengths.join(", ")})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(X.A,{className:"h-4 w-4 mr-2 mt-1 flex-shrink-0"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"최대 토큰: "}),(0,a.jsx)("span",{children:T[e].max_tokens})]})]})]})]}),f&&(0,a.jsx)(L,{variant:"destructive",children:(0,a.jsx)(V,{children:f})})]}),(0,a.jsx)(k,{children:(0,a.jsx)(N,{onClick:el,disabled:c||!t.trim(),className:"w-full",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(D.A,{className:"mr-2 h-4 w-4 animate-spin"}),"처리 중..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"프롬프트 최적화하기"]})})})]}),i&&(0,a.jsxs)(b,{className:"mt-6",children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(S,{children:"최적화된 프롬프트"}),(0,a.jsxs)(A,{children:[i.model,"에 최적화된 프롬프트입니다."]})]}),(0,a.jsxs)(_,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(y,{value:i.optimized_prompt,readOnly:!0,rows:8,className:"pr-10"}),(0,a.jsx)(N,{size:"sm",variant:"ghost",className:"absolute top-2 right-2",onClick:()=>ei(i.optimized_prompt),children:j?(0,a.jsx)(d.A,{className:"h-4 w-4"}):(0,a.jsx)(q.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"최적화 팁"}),(0,a.jsx)("ul",{className:"space-y-1 text-sm",children:i.optimization_tips.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start",children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2 mt-1 flex-shrink-0"}),(0,a.jsx)("span",{children:e})]},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:"프롬프트 구조 가이드"}),(0,a.jsx)("div",{className:"text-sm whitespace-pre-line rounded-lg bg-muted p-3",children:i.prompt_structure})]})]})]})]}),(0,a.jsx)(E,{value:"history",children:(0,a.jsxs)(b,{children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(S,{children:"프롬프트 히스토리"}),(0,a.jsx)(A,{children:"이전에 생성한 최적화 프롬프트 기록입니다."})]}),(0,a.jsx)(_,{children:0===Q.length?(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"아직 생성 기록이 없습니다."}):(0,a.jsx)("div",{className:"space-y-4",children:Q.map(e=>(0,a.jsxs)(b,{className:"cursor-pointer hover:bg-accent/5",onClick:()=>ed(e),children:[(0,a.jsx)(w,{className:"py-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(S,{className:"text-base",children:e.model}),(0,a.jsx)(A,{className:"text-xs",children:new Date(e.timestamp).toLocaleString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})}),(0,a.jsxs)(_,{className:"py-2",children:[(0,a.jsx)("div",{className:"text-sm mb-2 font-medium line-clamp-2",children:e.task}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground line-clamp-3",children:e.optimizedPrompt})]})]},e.id))})})]})}),(0,a.jsx)(E,{value:"statistics",children:(0,a.jsxs)(b,{children:[(0,a.jsxs)(w,{children:[(0,a.jsx)(S,{children:"사용 통계"}),(0,a.jsx)(A,{children:"프롬프트 최적화 서비스 사용 통계입니다."})]}),(0,a.jsx)(_,{children:Z?(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)(b,{children:[(0,a.jsx)(w,{className:"py-3",children:(0,a.jsx)(S,{className:"text-base",children:"총 최적화 횟수"})}),(0,a.jsx)(_,{className:"py-2",children:(0,a.jsx)("div",{className:"text-3xl font-bold",children:Z.total_optimizations||0})})]}),(0,a.jsxs)(b,{children:[(0,a.jsx)(w,{className:"py-3",children:(0,a.jsx)(S,{className:"text-base",children:"인기 모델"})}),(0,a.jsxs)(_,{className:"py-2",children:[(0,a.jsx)("div",{className:"text-xl font-bold",children:Z.popular_model||"-"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[Z.popular_model_count||0,"회 사용"]})]})]}),Z.recent_activity&&(0,a.jsxs)(b,{className:"md:col-span-2",children:[(0,a.jsx)(w,{className:"py-3",children:(0,a.jsx)(S,{className:"text-base",children:"최근 활동"})}),(0,a.jsx)(_,{className:"py-2",children:(0,a.jsx)("div",{className:"text-sm",children:Z.recent_activity})})]})]}):(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"통계 정보를 불러오는 중..."})})]})})]})})}},9377:(e,s,t)=>{"use strict";t.d(s,{dj:()=>u});var a=t(3338);let r=0,l=new Map,i=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},n=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},d=[],c={toasts:[]};function o(e){c=n(c,e),d.forEach(e=>{e(c)})}function m(e){let{...s}=e,t=(r=(r+1)%Number.MAX_VALUE).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,s]=a.useState(c);return a.useEffect(()=>(d.push(s),()=>{let e=d.indexOf(s);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var s=s=>e(e.s=s);e.O(0,[190,809,518,737,358],()=>s(1785)),_N_E=e.O()}]);